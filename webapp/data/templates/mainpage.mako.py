# -*- encoding:utf-8 -*-
from mako import runtime, filters, cache
UNDEFINED = runtime.UNDEFINED
__M_dict_builtin = dict
__M_locals_builtin = locals
_magic_number = 6
_modified_time = 1375812534.265971
_template_filename='/home/trupti/commit/webapp/gnukhata/templates/mainpage.mako'
_template_uri='/mainpage.mako'
_template_cache=cache.Cache(__name__, _modified_time)
_source_encoding='utf-8'
from webhelpers.html import escape
_exports = []


def render_body(context,**pageargs):
    context.caller_stack._push_frame()
    try:
        __M_locals = __M_dict_builtin(pageargs=pageargs)
        h = context.get('h', UNDEFINED)
        c = context.get('c', UNDEFINED)
        __M_writer = context.writer()
        # SOURCE LINE 1
        __M_writer(u'<?xml version="1.0" encoding="utf-8"?>\n\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" \n"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >\n<html xmlns="http://www.w3.org/1999/xhtml">\n\n<head>\n<meta charset="utf-8" />\n<title>Preferences Page</title>\n<link rel="stylesheet" type="text/css" href="/jquery/tab.css"> \n<script type="text/javascript" src="/jquery/jquery-1.5.min.js"> </script>\n<script type="text/javascript" src="/jquery/jquery.form.min.js"> </script>\n\n<script type="text/javascript">\nvar count_proj = 2;\nvar count = 1;\n$(document).ready(function()\n{\n\n\t\n\tdocument.getElementById("done").disabled = true;\n\t$(\'#has_project\').focus();\n\tdocument.getElementById(\'done\').disabled = true;\n\tdocument.getElementById("next").disabled = false;\n\tif("')
        # SOURCE LINE 25
        __M_writer(escape(c.flag))
        __M_writer(u'"=="e")\n\t{\n\t\t$(\'#next\').focus();\n\t\t$("#flags_warning").append("')
        # SOURCE LINE 28
        __M_writer(escape(c.message))
        __M_writer(u'"); \n\t\tdocument.getElementById("done").disabled = true;\n\t}\n\t$(\'#done\').click(function()\n\t{\n\t\t\n\t\tvar refno = $(\'#refno\').attr(\'checked\');\n\t\tvar acccode = $(\'#acc_code\').attr(\'checked\');\n\t\tvar hasproject = $(\'#has_project\').attr(\'checked\');\n\t\t\n\t\tif (refno == true && acccode == false)\n\t\t{\n\t\t\t//alert("refno checked");\n\t\t\tdocument.forms[0].elements["hidden_refno"].value = "optional";\n\t\t}\n\t\tif (acccode == true && refno == false)\n\t\t{\n\t\t\t//alert("accountcode checked");\n\t\t\tdocument.forms[0].elements["hidden_acc_code"].value = "manually";\n\t\t}\n\t\tif (acccode == true && refno == true)\n\t\t{\n\t\t\t//alert("accountcode checked");\n\t\t\tdocument.forms[0].elements["hidden_refno"].value = "optional";\n\t\t\tdocument.forms[0].elements["hidden_acc_code"].value = "manually";\n\t\t}\n\t\tif (hasproject == true)\n\t\t{\n\t\t\tdocument.forms[0].elements["hidden_length"].value = parseInt(count_proj);\n\t\t\t//alert(document.forms[0].elements["hidden_length"].value);\n\t\t}\n\t\t\n\t\t$(\'#frm_preferences\').ajaxSubmit(options);\n\t\tdocument.getElementById("next").disabled = false;\n\t\treturn false;\n\t});\nreturn false;\n});\n</script>\n<script>\nfunction checked_projectwise()\n{\n\nvar hasproject = $(\'#has_project\').attr(\'checked\');\nvar refno = $(\'#refno\').attr(\'checked\');\nvar acccode = $(\'#acc_code\').attr(\'checked\');\nif (hasproject == true)\n{\n\t$("#div_pro").append("Enter Project Name and Its Sanctioned Amount");\n        document.getElementById("done").disabled = false;\n\tdocument.getElementById("next").disabled = true;\n\tdocument.forms[0].elements["hidden_has_project"].value = "hasproject";\n        \t\n\t$(\'#div_proj\').empty();\n\t$(\'input#projname\').hide();\n\tvar add_proj = document.createElement("a");\n\tadd_proj.setAttribute(\'href\', \'#\');\n       \tadd_proj.setAttribute(\'onclick\', \'addProjects()\');\n        add_proj.id="a";\n         \n\tadd_proj.innerHTML="Add more projects";\n        add_proj.setAttribute(\'onkeydown\',"keyup(event,\'projname1\')");\t\n        add_proj.setAttribute(\'onkeyup\',"keyup(event,\'has_project\')");\n        add_proj.setAttribute(\'onkeypress\',"keydowns(event,\'acc_code\')");\n\tdocument.getElementById("div_proj1").appendChild(add_proj);\n\tdocument.getElementById("div_proj1").appendChild(document.createElement("br"));\n\tvar proj_name = document.createElement("input");\n        \n\tproj_name.id = "projname1";\n\tproj_name.name = "projname1";\n\tvar proj_amount = document.createElement("input");\n        \n\tproj_amount.id = "projamount1";\n\tproj_amount.name = "projamount1";\n\tproj_amount.value = "0.00";\n\t//proj_name.value = "Enter Project Name";\n\tproj_name.setAttribute(\'onkeypress\',\'Projectname(this.id)\');\n        proj_name.setAttribute(\'onkeyup\',"keydowns(event,\'a\')");\n        proj_name.setAttribute(\'onkeydown\',"keyup(event,\'has_project\')");  \n       \n\t//proj_name.setAttribute(\'onblur\',\'validateProjectname(this)\');\n\tdocument.getElementById("div_proj").appendChild(proj_name);\n\tdocument.getElementById("div_proj").appendChild(proj_amount);\n\tdocument.getElementById("projamount1").style.width = "5em";\n\tproj_name.focus();\n\tdocument.getElementById("div_proj").appendChild(document.createElement("br"));\n\t\n}\nelse if($(\'#has_project\').is(\':checked\') == false)\n{\n\tdocument.forms[0].elements["hidden_has_project"].value = "noproject";\n\t\n\tfor(var i=1;i<count_proj;i++)\n\t{\n               \n\t\tvar proj = document.getElementById("projname"+i);\n                proj.id="textbox";\n                proj.setAttribute(\'onkeydown\',"keyup(event,\'has_project\')");\n\t\tproj.value = " ";\n\t\tvar projamt = document.getElementById("projamount"+i);\n                projamt.id="textbox";\n\t\tprojamt.value = "0.00";\n\t}\n\t$(\'#div_proj\').empty();\n\t$(\'#div_proj1\').empty();\n\t$(\'#div_proj2\').empty();\n\t$("input#projname").hide();\n\t$(\'#div_pro\').empty();\n}\nif (refno == false && acccode == false && hasproject == false)\n{\n\tdocument.getElementById("done").disabled = true;\n\tdocument.getElementById("next").disabled = false;\n}\n\t\nreturn false;\n}\n</script>\n<script>\n/* Function for Enter key to move to next field*/ \nfunction keydown(e,s){\n\tif (!e) var e = window.event;\n\tif (e.keyCode) code = e.keyCode;\n\telse if (e.which) code = e.which;\n\tif (code==13){\n\t\tdocument.getElementById(s).focus();\n\t}\n}\n</script>\n<script>\n/* Function for Up arrow to move to previous field*/ \nfunction keyup(e,s){\n\tif (!e) var e = window.event;\n\tif (e.keyCode) code = e.keyCode;\n\telse if (e.which) code = e.which;\n\tif (code==38){\n\t\tdocument.getElementById(s).focus();\n\t}\n}\n</script>\n<script>\n/* Function for Down arrow to move to next field*/ \nfunction keydowns(e,s){\n\tif (!e) var e = window.event;\n\tif (e.keyCode) code = e.keyCode;\n\telse if (e.which) code = e.which;\n\tif (code==40){\n\t\tdocument.getElementById(s).focus();\n\t}\n}\n</script>\n<script>\n//create a function that accepts an input variable (which key was key pressed)\nfunction disableEnterKey(e)\n{\n \n//create a variable to hold the number of the key that was pressed     \n\tvar key;\n\n\t//if the users browser is internet explorer\n\tif(window.event)\n\t{\n\t\t//store the key code (Key number) of the pressed key\n\t\tkey = window.event.keyCode;\n\n\t//otherwise, it is firefox\n\t} \n\telse \n\t{\n\t\t//store the key code (Key number) of the pressed key\n\t\tkey = e.which;     \n\t}\n\n\t//if key 13 is pressed (the enter key)\n\tif(key == 13)\n\t{\n\t\t//do nothing\n\t\treturn false;\n\t      \n    //otherwise\n    \t} \n\telse \n\t{\n      \n\t    //continue as normal (allow the key press for keys other than "enter")\n\t    return true;\n    \t}\n      \n\t//and don\'t forget to close the function    \n\t\n\tkeydown(e,s);\n}\n</script>\n<script>\n/* Function for Right arrow to move to right field*/ \nfunction keyright(e,s){\n\tif (!e) var e = window.event;\n\tif (e.keyCode) code = e.keyCode;\n\telse if (e.which) code = e.which;\n\tif (code==39){\n\t\tdocument.getElementById(s).focus();\n\t}\n}\n</script>\n<script>\nfunction checked_accountcode()\n{\n\tvar refno = $(\'#refno\').attr(\'checked\');\n\tvar acccode = $(\'#acc_code\').attr(\'checked\');\n\tvar hasproject = $(\'#has_project\').attr(\'checked\');\n\tif (acccode == true)\n\t{\n\t\tdocument.getElementById("done").disabled = false;\n\t\tdocument.getElementById("next").disabled = true;\n\t}\n\telse if (refno == false && acccode == false && hasproject == false)\n\t{\n\t\tdocument.getElementById("done").disabled = true;\n\t\tdocument.getElementById("next").disabled = false;\n\t}\n\treturn false;\n}\n</script>\n<script>\nfunction checked_refernce()\n{\n\n\t\tvar refno = $(\'#refno\').attr(\'checked\');\n\t\tvar acccode = $(\'#acc_code\').attr(\'checked\');\n\t\tvar hasproject = $(\'#has_project\').attr(\'checked\');\n\t\tif (refno == true)\n\t\t{\n\t\t\tdocument.getElementById("done").disabled = false;\n\t\t\tdocument.getElementById("next").disabled = true;\n\t\t}\n\t\telse if (refno == false && acccode == false && hasproject == false)\n\t\t{\n\t\t\tdocument.getElementById("done").disabled = true;\n\t\t\tdocument.getElementById("next").disabled = false;\n\t\t}\n\t\treturn false;\n}\n</script>\n<script>\nfunction addProjects()\n{\n\n\tvar proj_name = document.createElement("input");\n\tproj_name.id = "projname" + count_proj;\n\tproj_name.name = "projname" + count_proj;\n\t//proj_name.value = "Enter Project Name";\n\tproj_name.setAttribute(\'onkeypress\',\'Projectname(this.id)\');\n        proj_name.setAttribute(\'onkeyup\',"keydowns(event,\'a\')");\n        proj_name.setAttribute(\'onkeydown\',"keyup(event,\'has_project\')");\n    \n       var proj_amount = document.createElement("input");\n        \n\tproj_amount.id = "projamount" + count_proj;\n\tproj_amount.name = "projamount" + count_proj;\n\tproj_amount.value = "0.00";\n\t//proj_name.setAttribute(\'onblur\',\'validateProjectname(this)\');\n\tdocument.getElementById("div_proj2").appendChild(proj_name);\n        document.getElementById("div_proj2").appendChild(proj_amount);\n        document.getElementById("projamount"+count_proj).style.width = "5em";\n\tproj_name.focus();\n\tdocument.getElementById("div_proj2").appendChild(document.createElement("br"));\n\tcount_proj = parseInt(count_proj) + parseInt(1);\n\t\n}\n</script>\n\n<script>\nfunction Projectname(id)\n{\n\tvar pronam = document.getElementById(id).value\n\tdocument.getElementById(id).value = pronam.capitalize();\n\t$("#flags_warning").empty();\n}\n</script>\n<script>\n\tfunction existing(callback){\n\t\t\n\t\t $.ajax({\n\t\t\t  // ...\n\t\t\turl:location.protocol+"//"+location.host+"/createaccount/getAllProjects",\n\t\t\t//data: {\'projvalue\':projvalue},// pass a single text box value?\n\t\t\tdataType: \'json\',\n\t\t\ttype: \'post\',\n\t\t\tasync: false, //I have to use false here,to stop asynchronization\n\t\t\tsuccess: function(result) {\n\t\t\tcallback(result); //callback handle server response\n\t\t\t},\n\n\t\t });\n\t };\n\n\tfunction validateProjectname()\n\t{ \t\n\t\t\n\t\texisting(function(result){\n\n       \t\tproject_list = result["list_of_project"];\n\t\t//alert(project_list);\n\t\t\t\t\t\n  \t\t});\n\t\t\n\t\tvar len = document.getElementById("hidden_length").value;\n\t\t\n\t\tfor(var i=1;i<len;i++)\n\t\t{\n\t\t\tvar proj = document.getElementById("projname"+i);\n\t\t\tvar proj_amt = document.getElementById("projamount"+i);\n\t\t\t\n\t\t\tif((proj.value == "" && proj_amt.value == "") || (proj.value == "" || proj_amt.value == "") )\n\t\t\t{\n\t\t\t\t$("#flags_warning").append("Please Enter Project Name, Amount or Uncheck Ckeckbox"); \n\t\t\t\tproj.focus();\n\t\t\t\tproj.value = "";\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse if(proj_amt.value == "")\n\t\t\t{\n\t\t\t\t$("#flags_warning").append("Please Enter Amount for Project"); \n\t\t\t\tproj_amt.focus();\n\t\t\t\tproj_amt.value = "0.00";\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor(var t=i+1;t<len;t++)\n\t\t\t\t{\n\t\t\t\t\tvar proj1 = document.getElementById("projname"+t);\n\t\t\t\t\t\n\t\t\t\t\tif(proj.value == proj1.value)\n\t\t\t\t\t{\t$("#flag_warning").append(proj.value +" Project Name Already Exist"); \n\t\t\t\t\t\tproj1.focus();\n\t\t\t\t\t\tproj1.value = "";\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (proj1.value == "")\n\t\t\t\t\t{\n\t\t\t\t\t\t$("#flags_warning").append("Please Enter Project Name or Uncheck Ckeckbox"); \n\t\t\t\t\t\tproj1.focus();\n\t\t\t\t\t\tproj1.value = "";\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(var i=1;i<len;i++)\n\t\t{\n\t\t\tvar proj_amt = document.getElementById("projamount"+i);\n\t\t\t\n\t\t\tvar alphaExp = /^[0-9 .]+$/;\n\t\t\tif(proj_amt.value.match(alphaExp))\n\t\t\t{\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\talert("Please Enter valid amount");\n\t\t\t\tproj_amt.value = "0.00";\n\t\t\t\tproj_amt.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (project_list.length != 0)\t\n\t\t{\n\t\t\tvar len = document.getElementById("hidden_length").value;\n\n\t\t\tfor(var i=1;i<len;i++)\n\t\t\t{\n\t\t\t\tvar proj2 = document.getElementById("projname"+i);\n\t\t\t\t//alert(proj2.value);\n\t\t\t\tfor(var j=0;j<project_list.length;j++)\n\t\t\t\t{\n\t\t\t\n\t\t\t\n\t\t\t\t\tif(project_list[j] == proj2.value)\n\t\t\t\t\t{\n\t\t\t\t\t\t\t$("#flag_warning").append(proj2.value+" Project Name Already Exist"); \n\t\t\t\t\t\t\tproj2.value ="";\n\t\t\t\t\t\t\tproj2.focus();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n</script>\n<script>\n//<!CDATA[\n//this is for titlecase\nString.prototype.capitalize = function(){\n   return this.replace( /(^|\\s)([a-z])/g , function(m,p1,p2){ return p1+p2.toUpperCase(); } );\n  };\n\n//]]>\n</script>\t\n\n<script>\nfunction Empty_Span()\n{\n\t$("#flag_warning").empty();\n\t$("#flags_warning").empty();\n}\n\n\n</script>\n</head>\n\n<body onkeypress="keyright(event,\'has_project\')"> \n\t<br><br>\n\t<table width="90%">\n\t\t\n\t\t\t<td><h2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ')
        # SOURCE LINE 447
        __M_writer(escape(c.orgname))
        __M_writer(u' for financial year from ')
        __M_writer(escape(c.financialfrom))
        __M_writer(u' to ')
        __M_writer(escape(c.financialto))
        __M_writer(u' </h2></td>\n                        <h3 align= "center"><font size=4>previous = \u21e7, nextbutton = \u21e9, next = enter, checkbox = space</h3>\n\t\t\t<td><img style="width: 65%; height: 60%;" alt="logo"src="/images/finallogo.png"></td>\n\t\t</tr>\n\t</table>\n\t<center>\n\t<div>\n\t\t<form id="frm_preferences" method = "post" action=')
        # SOURCE LINE 454
        __M_writer(escape(h.url_for(controller='createaccount',action='setPreferences')))
        __M_writer(u' onclick = "Empty_Span();"  onsubmit = "return validateProjectname()">\n\t\t<fieldset id="fieldset">\n\t\t<legend><optgroup label="Preferences"><b>Preferences</b></optgroup></legend>\n\t\t<h3><span id="flags_warning" style="color:Red"></span></h3>\n\t\t<h3><span id="flag_warning" style="color:Red"></span></h3>\n\t\t<h3><input class="checkbox" type="checkbox" id="has_project" onkeyup="keydown(event,\'acc_code\')"  name="has_project" value="Projects" onclick ="checked_projectwise()">Projectwise Accounting</h3><span id="div_pro"   style="color:Red"></span><span id="div_pro1"   style="color:Red"></span><div id="div_proj"></div><div id="div_proj2"></div><div id="div_proj1"></div><br>\n\t\t<h3><input class="checkbox" type="checkbox" id="acc_code" onkeypress="keyup(event,\'has_project\')" name="acc_code" value="automatic" onclick ="checked_accountcode()">Manual Account Codes</h3> \n\t\t<h3><input class="hidden" type="hidden" id="refno" name="refno" value="mandatory" onclick ="checked_refernce()"></h3><br>\n\n\t\t<input type="hidden" id="hidden_has_project" name="hidden_has_project" value="noproject">\n\t\t<input type="hidden" id="hidden_refno" name="hidden_refno" value="mandatory">\n\t\t<input type="hidden" id="hidden_acc_code" name="hidden_acc_code" value="automatic">\n\t\t<input type="hidden" id="hidden_length" name="hidden_length">\n\t\t<input type="submit" name="done" id="done" class="create" value="Save">\n\t\t</fieldset>\n\t\t\n\t\t</form>\n\t\t<br>\n\t\t<table align="center" cellspacing="1" cellpadding="12">\n\t\t\t<tr>\n\t\t\t\t<td><a href="/createaccount/index"><input type = "button" id="next" onkeypress="keyup(event,\'acc_code\')" onkeyup="keydowns(event,\'quit\')" name="submit" class="create" value="Create Account" style="width:100%;" align="center" ></a></td>\n\t\t\t\t<td><a href="/startup/index"><input type = "button" name="submit" class="create" onkeypress="keyup(event,\'next\')" align="center" id="quit" value="Quit" ></a></td>\n\t\t\t</tr>\n\t\t\n\t</div>\n\t</center>\n</body>\n\n</html>\n\n')
        return ''
    finally:
        context.caller_stack._pop_frame()


